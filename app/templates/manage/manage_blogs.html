{% extends 'base.html' %} {% block title %}管理博客{% endblock %} {% block beforehead %}
<script src="/static/js/manage/blogs.js"></script>
{% endblock %} {% block content %}

<div class="uk-width-1-1 uk-margin">
    <ul class="uk-breadcrumb">
        <li><a href="/manage/comments">评论</a></li>
        <li class="uk-active">博客</li>
        <li><a href="/manage/users">用户</a></li>
        <li><a href="/manage/atlas">图册</a></li>
    </ul>
</div>

<div id="app" class="uk-width-1-1 uk-margin">
    <a href="/manage/blogs/create" class="uk-button uk-button-primary"><i uk-icon="plus"></i> 新博客</a>
    <table class="uk-table uk-table-striped">
        <thead>
            <tr>
                <th class="uk-width-1-2">标题 / 摘要</th>
                <th class="uk-width-1-5">作者</th>
                <th class="uk-width-1-5">创建时间</th>
                <th class="uk-width-1-10">操作</th>
            </tr>
        </thead>
        <tbody>
            <tr v-for="blog in blogs">
                <td>
                    <a target="_blank" :href="'/blogs/'+blog.id" v-text="blog.name"></a>
                </td>
                <td>
                    <a target="_blank" :href="'/users/'+blog.user_id" v-text="blog.user_name"></a>
                </td>
                <td>
                    <span v-text="blog.created_at[1]"></span>
                </td>
                <td>
                    <a href="#" @click="edit_blog(blog)"><i uk-icon="file-edit"></i></a>
                    <a href="#" @click="delete_blog(blog)"><i uk-icon="trash"></i></a>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="uk-flex uk-width-1-1" id="page">
    <ul class="uk-pagination uk-flex-center uk-margin-medium-bottom uk-width-1-1">
        <li v-if="page.has_prev">
            <a :href="'?page='+page.prev_num"><span uk-pagination-previous></span></a>
        </li>
        <li v-if="page.has_prev"><a :href="'?page='+page.prev_num" v-text="page.prev_num"></a></li>
        <li v-if="page.has_prev || page.has_next" class="uk-active"><span v-text="page.page"></span></li>
        <li v-if="page.has_next"><a :href="'?page='+page.next_num" v-text="page.next_num"></a></li>
        <li v-if="page.has_next">
            <a :href="'?page='+page.next_num"><span uk-pagination-next></span></a>
        </li>
    </ul>
</div>
{% endblock %}